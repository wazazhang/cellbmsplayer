<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" verticalCenter="0" horizontalCenter="0" width="300" height="172" borderStyle="solid" cornerRadius="5" backgroundColor="#2D2D2D" backgroundAlpha="0.4">
		<mx:Script>
			<![CDATA[
				import Class.Server;
				
				import com.fc.lami.Messages.RoomData;
				public var rooms:Array;
				
				
				public function linkServer():void
				{
					bt.visible = false;
					TIname.visible = false;
					lb.visible = true;
					Server.login_cpt = this;
					Server.linkToServer(TIname.text);
				}
				
				
				public function linkSunccess():void
				{
					lb.text = "登陆成功!请选择一个房间:"
					cb.visible = true;
					bt2.visible = true;
				}
				
				public function enterRoom():void
				{
					Server.enterRoom((cb.selectedItem as RoomData).room_id)
				}
				
				
				public function addRoom():void
				{
					
				}
				
			]]>
		</mx:Script>
	
	
		<mx:Button id="bt" label="登入" horizontalCenter="0" verticalCenter="19" fontSize="20" click="linkServer()"/>
		<mx:Label id="lb" text="waiting..." horizontalCenter="0" y="35" visible="false">
		</mx:Label>
		<mx:TextInput id="TIname" x="69" y="55" fontSize="16"/>
		<mx:Button id="bt2" x="123" y="93" label="进入" visible="false" click="enterRoom()"/>
		<mx:ComboBox  id="cb" x="69" y="136" dataProvider="rooms" labelField="room_id"></mx:ComboBox>
		
</mx:Canvas>
